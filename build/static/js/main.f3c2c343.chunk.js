(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(e,t,n){e.exports=n.p+"static/media/logo.8338261a.png"},238:function(e,t,n){e.exports=n.p+"static/media/react-logo.5d5d9eef.svg"},240:function(e,t,n){e.exports=n(480)},245:function(e,t,n){},247:function(e,t,n){},433:function(e,t,n){},479:function(e,t,n){},480:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(35),c=n.n(i),l=(n(245),n(7)),o=n(8),s=n(10),u=n(9),m=n(11),p=n(37),d=(n(96),n(246),n(482)),h=n(483),b=n(484),f=n(232),E=n.n(f),g=(n(247),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(d.a,{color:"faded",light:!0,expand:"md"},a.createElement(p.b,{to:K},a.createElement("img",{src:E.a,alt:"logo",className:"App-logo"})),a.createElement(h.a,{navbar:!0},a.createElement(b.a,null,a.createElement(p.c,{to:Q},"About")),a.createElement(b.a,null,a.createElement(p.c,{to:Y},"Create a listing")),a.createElement(b.a,null,this.loginOrAccountLink()))))}},{key:"loginOrAccountLink",value:function(){return a.createElement(p.c,{to:z},"Login")}}]),t}(a.Component)),O=n(18),v=n(19),j=n(42),y=n.n(j),A={headers:{"Content-Type":"application/json"}},I="airbnmeToken",N="textarea";var w=n(128),_=n(237);function k(e){return Object(_.isUndefined)(e.response)?e.message:e.response.data.message}function P(e){alert(e)}function T(e){return w.sha384().update(w.sha384().update(e)).digest("hex")}function S(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e;return a.createElement("div",{className:"input-field"},a.createElement(v.a,{type:i,name:e,placeholder:r}),L(e,t,n))}function L(e,t,n){return t[e]&&n[e]?t[e]:void 0}var C=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Login"),r.a.createElement(v.c,{initialValues:{email:"",password:""},onSubmit:function(t){return e.attemptLogin(t)}},r.a.createElement(v.b,null,r.a.createElement(v.a,{type:"email",name:"email",placeholder:"email@gmail.com",className:"input-field"}),r.a.createElement(v.a,{type:"password",name:"password",placeholder:"Password",className:"input-field"}),r.a.createElement("button",{type:"submit",className:"input-field"},"Login"))),r.a.createElement("h6",{style:{paddingTop:"12px"}},"New to AirbnMe?"),r.a.createElement(p.b,{to:Z},r.a.createElement("button",null,"Create an account")))}},{key:"attemptLogin",value:function(e){var n=this,a=T(e.password);y.a.post(t.API_PATH,{email:e.email,password:a},A).then(function(e){localStorage.setItem(I,e.data.access_token),n.props.history.push(K,{userId:e.data.userId})},function(e){return P("Login failed - "+k(e))})}}]),t}(r.a.Component);C.API_PATH="http://localhost:8080/auth/login";var M=n(25),H=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(v.c,{initialValues:{email:"",password:"",confirmPassword:"",name:""},onSubmit:function(t){return e.attemptRegister(t)},validationSchema:t.VALIDATION_SCHEMA},function(e){var t=e.errors,n=e.touched;return r.a.createElement(v.b,null,S("email",t,n,"email@gmail.com"),S("password",t,n,"Password"),S("confirmPassword",t,n,"Confirm Password","password"),S("name",t,n,"Will Smith","string"),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Register")))}))}},{key:"attemptRegister",value:function(e){var n=this,a=T(e.password);y.a.post(t.API_PATH,{email:e.email,password:a,name:e.name},A).then(function(e){P("Registration success!"),n.props.history.push(z)},function(e){return P("Registration failed - "+k(e))})}}]),t}(r.a.Component);H.MIN_PASSWORD_LENGTH=6,H.MAX_PASSWORD_LENGTH=30,H.MIN_NAME_LENGTH=1,H.API_PATH="http://localhost:8080/auth/register",H.VALIDATION_SCHEMA=M.object().shape({email:M.string().email().required("Required"),password:M.string().min(H.MIN_PASSWORD_LENGTH).max(H.MAX_PASSWORD_LENGTH).required("Required"),confirmPassword:M.string().oneOf([M.ref("password")],"Passwords must match").required("Required"),name:M.string().min(H.MIN_NAME_LENGTH).required("Required")});var R=n(238),D=n.n(R),q=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:D.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Edit ",r.a.createElement("code",null,"src/App.js")," and save to reload."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")))}}]),t}(r.a.Component),G=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.createElement("a",{style:{margin:"4px"},href:this.props.url,target:"_blank",rel:"noopener noreferrer"},this.props.text)}}]),t}(a.Component),x=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement("h1",null,"THIS IS AIRBNME"),a.createElement("p",null,"A little website inspired by a",a.createElement("a",{style:{display:"inline"},href:"https://twitter.com/dontplaynojames/status/1020568969965473793",target:"_blank",rel:"noopener noreferrer"}," tweet "),"of Geoffrey James where anyone can post their accommodation and only I can book it :) "),a.createElement("p",{style:{fontSize:"6pt"}},"(how bout that spinning logo tho)"),a.createElement(G,{url:"https://www.linkedin.com/in/willsmithte/",text:"My LinkedIn"}),a.createElement(G,{url:"https://github.com/WillSmithTE/",text:"My GitHub"}))}}]),t}(a.Component),V="".concat("http://localhost:8080/","listing"),W=(n(407),n(432),n(433),n(239)),U=function(e){function t(e){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(W.DateRangePicker,{startDate:null,startDateId:"derp",endDate:null,endDateId:"herp",onDatesChange:function(e){return console.error(e)},focusedInput:null,onFocusChange:function(e){return console.error(e)}})}}]),t}(r.a.Component);U.states={available:{color:"#000000",label:"Available"},unavailable:{selectable:!1,color:"#595f69",label:"Unavailable"}};var B=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return a.createElement("div",null,a.createElement("h1",null,"Create your listing"),a.createElement(v.c,{initialValues:{name:"",address:"",description:"",price:""},onSubmit:function(t){return e.attemptCreateNewListing(t)},validationSchema:t.VALIDATION_SCHEMA},function(e){var t=e.errors,n=e.touched;return a.createElement(v.b,null,S("name",t,n,"The Palace","string"),function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e;return a.createElement("div",null,a.createElement(v.a,{type:i,name:e,placeholder:r,component:N}),L(e,t,n))}("description",t,n,"Describe your place :)"),S("address",t,n,"25, Buckingham Road, England","string"),S("price",t,n,"80","string"),a.createElement("div",null,a.createElement("button",{type:"submit"},"Post")))}),a.createElement(U,null))}},{key:"attemptCreateNewListing",value:function(e){var n=this;(function(e,t){var n=localStorage.getItem(I);if(null===n)return Promise.reject("Unable to find auth token");var a={headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}};return y.a.post(e,t,a)})(t.API_PATH,e).then(function(e){return n.props.history.push("".concat($,"/").concat(e.data.listingId))},function(e){P("Error: "+k(e))})}}]),t}(a.Component);B.MIN_NAME_LENGTH=2,B.MIN_DESCRIPTION_LENGTH=10,B.API_PATH=V+"/new",B.VALIDATION_SCHEMA=M.object().shape({name:M.string().min(B.MIN_NAME_LENGTH).required("Required"),address:M.string().min(B.MIN_NAME_LENGTH).required("Required"),description:M.string().min(B.MIN_DESCRIPTION_LENGTH).required("Required"),price:M.number().required("Required")});n(479);var F=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={listingId:e.match.params.listingId,listing:void 0},y.a.get("".concat(V,"/").concat(n.state.listingId)).then(function(e){n.setState({listing:e.data})}),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return void 0===this.state.listing?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("h1",null,this.state.listing.name),r.a.createElement("p",null,this.state.listing.description),r.a.createElement("p",null,t.formatPrice(this.state.listing.price)))}}],[{key:"formatPrice",value:function(e){return t.priceFormatter.format(e)}}]),t}(r.a.Component);F.priceFormatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});var J=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(O.a,{path:z,component:C}),a.createElement(O.a,{path:Z,component:H}),a.createElement(O.a,{path:X,component:q}),a.createElement(O.a,{path:Q,component:x}),a.createElement(O.a,{path:Y,component:B}),a.createElement(O.a,{path:$+ee,component:F}),a.createElement("h2",{className:"bottomStrip"},"A WILL SMITH PRODUCTION"))}}]),t}(a.Component),z="/login",X="/demo",K="/",Q="/about",Y="/create-listing",Z="/register",$="/places",ee="/:listingId",te=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{basename:K},r.a.createElement(g,null),r.a.createElement(J,null)))}}]),t}(r.a.Component);c.a.render(r.a.createElement(te,null),document.getElementById("root"))},96:function(e,t,n){}},[[240,1,2]]]);
//# sourceMappingURL=main.f3c2c343.chunk.js.map